# AI Agent Config Format Survey

Reference document for polyrc — the interlingua-based AI agent config converter.

---

## Tools Covered

1. Cursor
2. Windsurf
3. GitHub Copilot
4. Claude Code
5. Gemini CLI
6. Google Antigravity

---

## Cursor

| Aspect | Detail |
|---|---|
| **Legacy format** | `.cursorrules` — single file at project root, plain text/markdown |
| **Current format** | `.cursor/rules/*.mdc` — per-rule files with YAML frontmatter |
| **User-global** | Settings UI → "User Rules" (plain text only, no frontmatter supported) |
| **Frontmatter fields** | `description`, `globs`, `alwaysApply` |
| **Activation modes** | Always on · Agent-requested (via description) · Auto-attached (glob) · Manual |
| **Scope levels** | User → Project → Sub-directory |
| **Notes** | `.cursorrules` deprecated, migration to `.mdc` recommended. Sub-directory `.cursor/rules/` folders supported for monorepos. |

---

## Windsurf

| Aspect | Detail |
|---|---|
| **Legacy format** | `.windsurfrules` — single file at project root |
| **Current format** | `.windsurf/rules/*.md` — per-rule markdown files |
| **User-global** | `~/.codeium/windsurf/memories/global_rules.md` |
| **System-level** | OS-specific directory, admin-deployed, read-only for users |
| **Activation modes** | Always on · Manual (@mention) · Glob · Model-decides |
| **Char limits** | 6,000 chars/file · 12,000 chars total (global + workspace) |
| **Scope levels** | System → User → Project → Sub-directory (up to git root) |
| **Notes** | Rules and Memories are separate concepts. Memories are auto-generated by Cascade; Rules are manually defined. |

---

## GitHub Copilot

| Aspect | Detail |
|---|---|
| **Project-wide** | `.github/copilot-instructions.md` |
| **Path-specific** | `.github/instructions/*.instructions.md` with `applyTo` frontmatter |
| **User-global** | Personal instructions in github.com settings UI |
| **Frontmatter fields** | `name`, `description`, `applyTo` (glob pattern) |
| **Also detects** | `AGENTS.md` at root (shared multi-agent open standard) |
| **Prompt files** | `.github/prompts/*.prompt.md` — reusable task-specific prompts |
| **Scope levels** | User → Organization → Repository → Path-specific |
| **Notes** | Instructions are injected silently (not shown in chat). Path-specific instructions prevent language rules bleeding across file types. |

---

## Claude Code

| Aspect | Detail |
|---|---|
| **Project** | `CLAUDE.md` at repo root |
| **Per-subdirectory** | `CLAUDE.md` in child dirs (loaded on-demand when Claude reads files there) |
| **User-global** | `~/.claude/CLAUDE.md` |
| **Modular rules** | `.claude/rules/*.md` — all auto-loaded, same priority as root CLAUDE.md |
| **Private/local** | `CLAUDE.local.md` — auto-gitignored, per-machine overrides |
| **Import syntax** | `@path/to/file.md` inline in any CLAUDE.md |
| **Format** | Free-form markdown, no required structure or frontmatter |
| **Scope levels** | User → Project → Sub-directory → Auto-memory (MEMORY.md) |
| **Notes** | More specific (deeper) files take precedence. Files >200 lines see degraded rule-following (~71% vs ~92%). Imperative phrasing ("Use X") outperforms descriptive ("The project uses X"). |

---

## Gemini CLI

| Aspect | Detail |
|---|---|
| **Project** | `GEMINI.md` at project root |
| **Hierarchical** | Searches from CWD up to git root, loads all found files |
| **Sub-directory** | Auto-discovered `GEMINI.md` in subdirs (loaded when agent accesses those dirs) |
| **User-global** | `~/.gemini/GEMINI.md` |
| **Import syntax** | `@./path/to/file.md` (markdown files only) |
| **Configurable filename** | `context.fileName` in `settings.json` (can use `CONTEXT.md` or custom names) |
| **Also accepts** | `AGENT.md` as alias |
| **Format** | Free-form markdown |
| **Scope levels** | User → Project → Sub-directory |
| **Notes** | `/memory show` displays full concatenated context. `/memory add <text>` appends to global file. `/memory refresh` rescans all locations. |

---

## Google Antigravity

| Aspect | Detail |
|---|---|
| **Rules (project)** | `.agent/rules/` (`.agents/rules/` in v1.18.4+) — markdown files |
| **Rules (global)** | `~/.gemini/antigravity/rules/` |
| **Skills (project)** | `.agent/skills/<n>/SKILL.md` |
| **Skills (global)** | `~/.gemini/antigravity/skills/<n>/SKILL.md` |
| **Workflows** | `.agent/workflows/*.md` with YAML frontmatter |
| **SKILL.md frontmatter** | `name` (max 64 chars) · `description` (max 200 chars, used as trigger) |
| **Underlying context** | Also reads `GEMINI.md` |
| **Scope levels** | User → Project |
| **Notes** | Rules = always-on context. Skills = on-demand, loaded only when triggered by description match. Workflows = saved prompts triggered with `/`. Skills follow the open `agentskills.io` standard and are portable to VS Code, Cursor, Claude Code. |

---

## Cross-Tool Comparison

### Scope levels (all tools)

| Level | Cursor | Windsurf | Copilot | Claude Code | Gemini CLI | Antigravity |
|---|---|---|---|---|---|---|
| **User/Global** | Settings UI | `global_rules.md` | github.com settings | `~/.claude/CLAUDE.md` | `~/.gemini/GEMINI.md` | `~/.gemini/antigravity/rules/` |
| **Project root** | `.cursor/rules/` | `.windsurf/rules/` | `.github/copilot-instructions.md` | `CLAUDE.md` | `GEMINI.md` | `.agent/rules/` |
| **Path-scoped** | `globs` frontmatter | `globs` mode | `applyTo` frontmatter | subdirectory `CLAUDE.md` | subdirectory `GEMINI.md` | n/a |

### Activation modes (all tools)

| Mode | Cursor | Windsurf | Copilot | Claude Code | Gemini CLI | Antigravity |
|---|---|---|---|---|---|---|
| **Always on** | `alwaysApply: true` | "Always On" | all instructions | all CLAUDE.md | all GEMINI.md | Rules |
| **Glob/path** | `globs` field | Glob mode | `applyTo` | subdirectory files | subdirectory files | — |
| **On-demand** | Manual | Manual (@mention) | Prompt files | — | — | Skills / Workflows |
| **AI-decides** | Agent Requested | Model Decision | — | — | — | Skill description match |

### File naming conventions

| Tool | Project file | User/global file | Format |
|---|---|---|---|
| Cursor | `.cursor/rules/*.mdc` | User Rules (UI) | Markdown + YAML frontmatter |
| Windsurf | `.windsurf/rules/*.md` | `global_rules.md` | Markdown |
| Copilot | `.github/copilot-instructions.md` | UI | Markdown |
| Claude Code | `CLAUDE.md` | `~/.claude/CLAUDE.md` | Markdown |
| Gemini CLI | `GEMINI.md` | `~/.gemini/GEMINI.md` | Markdown |
| Antigravity | `.agent/rules/*.md` | `~/.gemini/antigravity/rules/` | Markdown |

---

## Key Observations for the Interlingua IR

### What maps cleanly (80% case)

1. **Scope** — Every tool has exactly: `user`, `project`, `path-scoped`. This is the primary IR axis.
2. **Activation** — All tools have: always-on, conditional (glob/path), on-demand. Just named differently.
3. **Content** — Unstructured markdown in every case. The IR wraps content with metadata; it does not parse content.

### Tool-specific features (lossy on conversion)

| Feature | Tool | IR handling |
|---|---|---|
| `alwaysApply` boolean | Cursor | Map to `activation: always` |
| Char limits (6k/12k) | Windsurf | Warn on export if exceeded |
| `applyTo` glob | Copilot | Map to `globs` |
| `@import` syntax | Claude Code, Gemini | Resolve or preserve as reference |
| Skills (on-demand, token-efficient) | Antigravity | Map to on-demand rules; skill metadata lost |
| Workflows | Antigravity | Out of scope for v1 |
| Memories (auto-generated) | Windsurf | Out of scope (not user-authored) |

### AGENTS.md — the emerging open standard

Both Copilot and Gemini CLI detect `AGENTS.md` at the project root. Claude Code docs mention it. This is an informal cross-tool standard worth tracking — polyrc could treat it as a near-native IR target.
